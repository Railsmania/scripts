#Gemas: Temas avanzados

En esta lección vamos a aprender acerca del fichero Gemfile.lock y otros temas avanzados como la instalación de gemas desde diferentes fuentes y trabajar con gemas desarrolladas localmente.


## Gemfile.lock
Cuando ejecutamos 'bundle install', no sólo instalamos las gemas sino también actualizamos el archivo 'Gemfile.lock'. Este archivo es generado y modificado por Bundle y nunca debe ser modificado manualmente. A pesar de esto vamos a echarle un vistazo rápido a su contenido.

Este archivo es una caché de dependencias entre gemas y tambien especifica las versiones exactas de las gemas usadas por este proyecto. Mientras que en el 'Gemfile' especificamos gemas y ponemos algunas restricciones, en el 'Gemfile.lock' tenemos las versiones específicas de las gemas que cumplen todas las restricciones. Estas seran las versiones exactas que serán descargadas e instaladas por Bundler.

Por ejemplo, podemos ver aquí la version exacta de sqlite.

En el fichero Gemfile.lock hay muchas mas gemas que en el fichero Gemfile. Esto se debe a que Bundler instalará no sólo las gemas que hemos solicitado, sino todas sus dependencias para asegurarse de que las gemas solicitadas funcionan como es esperado.
En la práctica, nunca tiense que preocuparse acerca de este archivo. Simplemente ejecuta 'bundle install' y todo funciona magicamente.


## Rubygems.org

Volviendo al Gemfile, echemos un vistazo a la primera línea del archivo:
```
source 'https://rubygems.org'
```

Esta línea indica el servidor de gemas que estamos utilizando. Un servidor de gemas contiene copias de gemas que estan disponibles para descargar e instalar. Rubygems.org es el repositorio estándar de facto donde la mayoría de las gemas Ruby son publicadas. Echemos un vistazo a la web.

Lo primero que vamos a hacer es buscar la gema 'rails'. Tenemos una coincidencia exacta y más de 3.500 gemas relacionadas con Rails que mejoran su funcionalidad. La gran cantidad de gemas relacionadas es una de las grandes ventajas de Rails.

Si hacemos clic en la gema Rails podemos ver información sobre la gema.
Vemos la última versión estable en la parte superior, y el comando para instalar Rails.

También hay algunos enlaces a recursos relacionados con la gema. Y aquí tenemos una lista de todas las versiones de esta gema que se han publicado hasta ahora y sus dependencias.

No es necesario conocer toda esta información pero si alguna vez tienes que entender cómo utilizar todas las funciones avanzadas de una gema, es fácil empezar buscando la gema en Rubygems.

##  Fuentes alternativas

Tan útil como RubyGems.org es, no necesitamos utilizar Rubygems para todas nuestras gemas. Si trabajamos en nuestra propia Gema, mientras desarrollamos quizá queremos referenciar nuestros ficheros locales. Podemos conseguir esto escribiendo como llegar al directorio con la gema desde el directorio donde está el Gemfile usando la palabla clave "path":
```
gem 'my_tool', path: '../my_tool'
```
Ahora cuando hacemos
```
bundle install
```

Estamos instalando la gema de nuestra ruta local. Así podemos comprobar rápidamente la funcionalidad que nuestra gema provee a nuestro proyecto.

También podemos instalar las gemas de un repositorio git, por ejemplo:
```
gem 'kender', git: 'https://github.com/mdsol/kender.git'
```

se instalará la gema usando rama por defecto de ese repositorio.
Podríamos instalar desde cualquier rama especificando el parámetro 'branch'.
```
gem 'kender', git: 'https://github.com/mdsol/kender.git', branch: 'experimental'
```
O podríamos especificar una etiqueta específica con el parámetro 'tag':
```
gem 'kender', git: 'https://github.com/mdsol/kender.git', tag: 'v0.2.5'
```

En esta lección hemos aprendido acerca de Rubygems que es la fuente por defecto para nuestra Gemfile y cómo utilizar fuentes alternativas. También aprendimos sobre el Gemfile.lock y su propósito. Eso es todo por ahora, asegúrate de revisar nuestras otras lecciones sobre gemas y sobre versiones de gemas en RailsMania.com.