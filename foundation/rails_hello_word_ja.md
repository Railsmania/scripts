This file still needs to be reviewed by native

#Railsの基本とHello World

このレッスンでは、Ruby on Railsのプロジェクトの基本を検討します。

＃新しいプロジェクト
新しいプロジェクトを作成するのを始めましょう。新しいプロジェクトを作成するためにターミナルで「rails new」のコマンドを実行します：

rails new myproject


これはmyprojectに呼ばれるプロジェクトのディレクトリを作成します。
すでにこのプロジェクトは、あなたのアプリケーション​​を実行するために必要なものがすべて含まれています。
その内容を見てみましょう。
いくつかのファイルやディレクトリを見ることができます。今回のビデオで私たちは最も重要なファイルだけを説明します。

#Gemfile

最初、Gemfileというファイルにの注目したいです。

Gemfileでは、アプリケーションのための必要なソフトウェアが定義されています。

Rubyのソフトウェアは、通常に、gemにパックされています。
GemfileはRailsのプロジェクトが使っているすべてのgemのリストです。
このリストにRailsのバージョンでも定義できます。
このファイル内の他の多くのgemがあります。
Railsのたくさんの便利な機能がgemをインストールして使えます。
私たちは、次々のビデオでgemの探し方、インストール方法と使用方法をお教えます。


#Bundler

Gemfileを変更するとき、次のコマンドを実行する必要があります
bundle install

このコマンドは、Gemfileで定義されてあるすべてのソフトウェアをダウンロードし、インストールして、プロジェクトで利用できるようになります。


プロジェクトは、生成されたばっかりとしても、アプリケーションがすでにWebサーバを起動できます。プロジェクトのディレクトリからターミナルで以下を実行します：
bundle exec rails server


このコマンドは、デフォルトのRailsのページを提供するWebサーバーを起動します
デフォルトのページは興味深いものではありませんが、それを見たときプロジェクトが正常に動作していると確認できます。

# config/routes.rb

次の重要なディレクトリはconfig/です。
プロジェクトのすべての設定ファイルがここに含まれています。
今安全にデフォルト値を使用することができます。今後のレッスンに、変更する必要があったら、それぞれのファイルを説明します。

しかし、ほとんどのすべてのプロジェクトに変更されるのファイル今説明します：　config/routes.rb.


このファイルは、使用法の例がいっぱい書かれています。このファイルはプロジェクトのルート(routes)を定義します。
ルートは、ユーザURLに行くときどのコントローラーのコードを起動するかを定義します。

例として、root routeのこの行のコメントを解除しましょう​​。
root 'welcome#index'

ルートurlはpathがない特別のルートです。'welcome#index'のフォーマットは、welcomeコントローラ, indexアクションを示します. ユーザがルートURLに行くとwelcomeコントローラのindexアクションのコードを呼び出されます。

#コントローラとアクション (controllers and actions)
アクションは何ですか？コントローラとは何ですか？

さて、ファイルシステムにappというディレクトリがあります。Railsアプリケーションで識別は、このディレクトリ内にある。
RailsのMVCはモデル - ビュー - コントローラと呼ばれるアーキテクチャに対して従う。
appのディレクトリの中にモデル(models)、ビュー(views)とコントローラ(controllers)用のサブディレクトリがあります。

ユーザが、あるURLでアプリケーションにアクセスするとRailsは最初config/ routes.rbのファイルを読むと今のリクエストを対するコントローラーを判別します。

さっき、wellcomeコントローラを使用するようにconfig/routes.rbを設定しました。　今、適切なファイルを作成しましょう。

すべてのコントローラは、アプリケーションコントローラを継承します。
welcomeという名前の新しいコントローラを作成するための行：

class WelcomeController < ApplicationController
end


config/routes.rbに 'welcome#index' を書きました。　その意味はwelcomeコントローラ内部のindexアクションです。

新しいアクションを作成するには、単に新しいRubyのメソッドを作成します。

```
class WelcomeController < ApplicationController
def index
end
end
```

今、コントローラのメソッドは呼び出されますが、この時点では、有用な何も返さない。まだ何かがユーザのブラウザに送信するためにビューが必要です。

#ビュー (view)
すべてのビューアはapp/viewsというディレクトリにあります。
慣例によりコントローラは、コントローラと同じ名前のディレクトリからビューをレンダリングします。だからwelcomeというディレクトリを作成しましょう。

今、indexビューを作成する必要があります。ただindex.html.erbというファイルを作成します。
.erbのextensionは、このファイルがHTMLになる前にRailsによって実行されることを示します.
これのおかげで、動的なコンテンツを作成できるようにします。
たとえば、ルビーとhtmlのミックスを行うことができます。
<H1>ハロー　ワールド</ H1>
<％= 'こんにちは ルビー' ％>

ターミナルでrailsのサーバを再起動してみましょう：
bundle exec rails server

今、プロジェクトタブにブラウザタブを再度開いて、そこにRuby on Railsで通って私たちの最初のHello Worldのウェブページで見ることができます！


これは今回のレッスンでした。自分でほかのこのプロジェクトのファイルを探索することをお勧めします。
新しいプロジェクトを生成することは非常に簡単ですので、あなたが何かを壊した場合、単にプロジェクトを削除して新しく作成もできます！

ハッピーコーディング！