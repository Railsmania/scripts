This file still needs to be reviewed by native

#Railsの基本とHello World

このレッスンでは、Ruby on Railsのプロジェクトの基本を説明します。

#新しいプロジェクト
新しいプロジェクトを作成しましょう。新しいプロジェクトを作成するためにターミナルで「rails new」のコマンドを実行します：

rails new myproject


これはmyprojectという名前のプロジェクトのディレクトリを作成します。
すでにこのプロジェクトには、あなたのアプリケーション​​を実行するために必要なものがすべて含まれています。
その内容を見てみましょう。
いくつかのファイルやディレクトリがあります。今回のビデオでは最も重要なファイだけを説明します。

#Gemfile

最初、Gemfileというファイルに注目しましょう。

Gemfileでは、アプリケーションのための必要なソフトウェアが定義されています。

Rubyのソフトウェアは、通常、ルビーでgemと呼ばれるパッケージに格納されています。
GemfileはRailsのプロジェクトが使っているすべてのgemのリストです。
このリストにRailsのバージョンも定義されています。
Gemfileにはさらに多くのgemがあります。
Railsの多くの便利な機能はgemをインストールすることによって使えるようになります。
私たちは、この後のビデオでほかのgemが必要な場合のgemの探し方、インストールと使用方法をお教えします。


#Bundler

Gemfileを変更した場合、次のコマンドを実行する必要があります
bundle install

このコマンドは、Gemfileで定義されてあるすべてのソフトウェアをダウンロードし、インストールして、プロジェクトで利用できるようになります。


プロジェクトは、生成されたばかりのときでも、すでにWebサーバを起動できます。ターミナルでプロジェクトのディレクトリに移動し次のコマンドを実行します：
bundle exec rails server


このコマンドは、デフォルトのRailsのページを提供するWebサーバーを起動します。
デフォルトのページは興味深いものではありませんが、それを見たときプロジェクトが正常に動作していると確認できます。

# config/routes.rb

次の重要なのはconfig/のディレクトリです。
プロジェクトのすべての設定ファイルがここに含まれています。
デフォルト値のままでも使用することができます。今後のレッスンで、変更する必要があったら、それぞれのファイルについてを説明します。

ここでは、ほとんどのすべてのプロジェクトで変更されるのファイルについて説明します：　config/routes.rb.


このファイルは、プログラミングの例がたくさん書かれています。
まず、ここではプロジェクトのルート(routes)を定義します。
ルートは、ユーザがURLにアクセスしたときどのコントローラーのコードを起動するかを定義します。

例として、root routeのその行のコメントを外してみましょう​。
root 'welcome#index'

ルートはトップページを表示する特別なURLです。'welcome#index'という文字列は、welcomeコントローラ, indexアクションを示します. ユーザがトップページにアクセスするとwelcomeコントローラのindexアクションのコードが呼び出されます。

#コントローラとアクション (controllers and actions)
アクションとは何ですか？コントローラとは何ですか？

プロジェクトにappというディレクトリがあります。appディレクトリの構造はRailsアプリケーションの特徴を表しています。
RailsのMVCはモデル - ビュー - コントローラと呼ばれるアーキテクチャで構成されています。
appのディレクトリの中にモデル(models)、ビュー(views)とコントローラ(controllers)用のサブディレクトリがあります。

ユーザが、あるURLでアプリケーションにアクセスするとRailsは最初にconfig/ routes.rbのファイルを読み、このリクエストにレスポンスするコントローラーを判別します。

さきほど、welcomeコントローラを使用するようにconfig/routes.rbを設定しました。では、適切なコントローラーファイルを作成しましょう。

すべてのコントローラは、アプリケーションコントローラを継承します。
welcomeという名前の新しいコントローラを作成するためのコード：

class WelcomeController < ApplicationController
end


config/routes.rbに 'welcome#index'　を書きました。　その意味はwelcomeコントローラ内部のindexアクションです。

コントローラーに新しいアクションを作成するには、単に新しいRubyのメソッドを作成します。

```
class WelcomeController < ApplicationController
　　def index
　　end
end
```

これによって、コントローラーのindexメソッドは呼び出されますが、この時点では,何もレスポンスを返しません。また、ユーザのブラウザを表示するためにビューが必要です。

#ビュー (view)
すべてのビューはapp/viewsというディレクトリにあります。
デフォルトでコントローラは、コントローラと同じ名前のディレクトリからビューをレンダリングします。ですのでwelcomeというディレクトリを作成しましょう。

まず、indexビューのファイルを作成する必要があります。index.html.erbというファイルを作成してください。

.erbの拡張子は、RailsによってHTMLが生成されます。
これのおかげで、動的なコンテンツを作成できるようになります。
たとえば、ルビーとHTMLを混ぜてプログラミングすることができます。次のコードを保存して：
<H1>ハロー　ワールド</ H1>
<％= 'こんにちは ルビー' ％>

ターミナルでrailsのサーバを再起動してみましょう：
bundle exec rails server

では、プロジェクトタブにブラウザタブを再度開いて、そこにRuby on Railsで生成された最初のHello Worldのウェブページで見ることができます！


これは今回のレッスンでした。自分でこのプロジェクトのほかのファイルを探索することをお勧めします。
新しいプロジェクトを生成することは非常に簡単ですので、あなたが何かを壊してしまった場合、思い切ってプロジェクトを削除して新しく作成もできます！

ハッピーコーディング！